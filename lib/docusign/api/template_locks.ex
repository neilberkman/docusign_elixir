# NOTE: This class is auto generated by the swagger code generator program.
# https://github.com/swagger-api/swagger-codegen.git
# Do not edit the class manually.

defmodule DocuSign.Api.TemplateLocks do
  @moduledoc """
  API calls for all endpoints tagged `TemplateLocks`.
  """

  alias DocuSign.Connection
  import DocuSign.RequestBuilder

  @doc """
  Deletes a template lock.
  Deletes the lock from the specified template. The &#x60;X-DocuSign-Edit&#x60; header must be included in the request.

  ## Parameters

  - connection (DocuSign.Connection): Connection to server
  - account_id (String.t): The external account number (int) or account ID Guid.
  - template_id (String.t): The ID of the template being accessed.
  - opts (KeywordList): [optional] Optional parameters
    - :lock_request (LockRequest): 

  ## Returns

  {:ok, %DocuSign.Model.TemplateLocks{}} on success
  {:error, info} on failure
  """
  @spec lock_delete_template_lock(Tesla.Env.client(), String.t(), String.t(), keyword()) ::
          {:ok, DocuSign.Model.TemplateLocks.t()} | {:error, Tesla.Env.t()}
  def lock_delete_template_lock(connection, account_id, template_id, opts \\ []) do
    optional_params = %{
      lockRequest: :body
    }

    %{}
    |> method(:delete)
    |> url("/v2/accounts/#{account_id}/templates/#{template_id}/lock")
    |> add_optional_params(optional_params, opts)
    |> Enum.into([])
    |> (&Connection.request(connection, &1)).()
    |> decode(%DocuSign.Model.TemplateLocks{})
  end

  @doc """
  Gets template lock information.
  Retrieves general information about the template lock.  If the call is made by the user who has the lock and the request has the same integrator key as original, then the &#x60;X-DocuSign-Edit&#x60; header  field and additional lock information is included in the response. This allows users to recover a lost editing session token and the &#x60;X-DocuSign-Edit&#x60; header.

  ## Parameters

  - connection (DocuSign.Connection): Connection to server
  - account_id (String.t): The external account number (int) or account ID Guid.
  - template_id (String.t): The ID of the template being accessed.
  - opts (KeywordList): [optional] Optional parameters

  ## Returns

  {:ok, %DocuSign.Model.TemplateLocks{}} on success
  {:error, info} on failure
  """
  @spec lock_get_template_lock(Tesla.Env.client(), String.t(), String.t(), keyword()) ::
          {:ok, DocuSign.Model.TemplateLocks.t()} | {:error, Tesla.Env.t()}
  def lock_get_template_lock(connection, account_id, template_id, _opts \\ []) do
    %{}
    |> method(:get)
    |> url("/v2/accounts/#{account_id}/templates/#{template_id}/lock")
    |> Enum.into([])
    |> (&Connection.request(connection, &1)).()
    |> decode(%DocuSign.Model.TemplateLocks{})
  end

  @doc """
  Lock a template.
  Locks the specified template, and sets the time until the lock expires, to prevent other users or recipients from accessing and changing the template.  ###### Note: Users must have envelope locking capability enabled to use this function (the userSetting property &#x60;canLockEnvelopes&#x60; must be set to **true** for the user).

  ## Parameters

  - connection (DocuSign.Connection): Connection to server
  - account_id (String.t): The external account number (int) or account ID Guid.
  - template_id (String.t): The ID of the template being accessed.
  - opts (KeywordList): [optional] Optional parameters
    - :lock_request (LockRequest): 

  ## Returns

  {:ok, %DocuSign.Model.TemplateLocks{}} on success
  {:error, info} on failure
  """
  @spec lock_post_template_lock(Tesla.Env.client(), String.t(), String.t(), keyword()) ::
          {:ok, DocuSign.Model.TemplateLocks.t()} | {:error, Tesla.Env.t()}
  def lock_post_template_lock(connection, account_id, template_id, opts \\ []) do
    optional_params = %{
      lockRequest: :body
    }

    %{}
    |> method(:post)
    |> url("/v2/accounts/#{account_id}/templates/#{template_id}/lock")
    |> add_optional_params(optional_params, opts)
    |> Enum.into([])
    |> (&Connection.request(connection, &1)).()
    |> decode(%DocuSign.Model.TemplateLocks{})
  end

  @doc """
  Updates a template lock.
  Updates the lock duration time or update the &#x60;lockedByApp&#x60; property information for the specified template. The user and integrator key must match the user specified by the &#x60;lockByUser&#x60; property and integrator key information and the &#x60;X-DocuSign-Edit&#x60; header must be included or an error will be generated.

  ## Parameters

  - connection (DocuSign.Connection): Connection to server
  - account_id (String.t): The external account number (int) or account ID Guid.
  - template_id (String.t): The ID of the template being accessed.
  - opts (KeywordList): [optional] Optional parameters
    - :lock_request (LockRequest): 

  ## Returns

  {:ok, %DocuSign.Model.TemplateLocks{}} on success
  {:error, info} on failure
  """
  @spec lock_put_template_lock(Tesla.Env.client(), String.t(), String.t(), keyword()) ::
          {:ok, DocuSign.Model.TemplateLocks.t()} | {:error, Tesla.Env.t()}
  def lock_put_template_lock(connection, account_id, template_id, opts \\ []) do
    optional_params = %{
      lockRequest: :body
    }

    %{}
    |> method(:put)
    |> url("/v2/accounts/#{account_id}/templates/#{template_id}/lock")
    |> add_optional_params(optional_params, opts)
    |> Enum.into([])
    |> (&Connection.request(connection, &1)).()
    |> decode(%DocuSign.Model.TemplateLocks{})
  end
end
