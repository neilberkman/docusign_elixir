# NOTE: This file is auto generated by OpenAPI Generator 7.12.0 (https://openapi-generator.tech).
# Do not edit this file manually.

defmodule DocuSign.Api.EnvelopeCustomFields do
  @moduledoc """
  API calls for all endpoints tagged `EnvelopeCustomFields`.
  """

  import DocuSign.RequestBuilder

  alias DocuSign.Connection
  alias DocuSign.Model.CustomFieldsEnvelope
  alias DocuSign.Model.EnvelopeCustomFields
  alias DocuSign.Model.ErrorDetails

  @doc """
  Deletes envelope custom fields for draft and in-process envelopes.
  Deletes envelope custom fields for draft and in-process envelopes.

  ### Parameters

  - `connection` (DocuSign.Connection): Connection to server
  - `account_id` (String.t): The external account number (int) or account ID GUID.
  - `envelope_id` (String.t): The envelope's GUID.   Example: `93be49ab-xxxx-xxxx-xxxx-f752070d71ec`
  - `opts` (keyword): Optional parameters
    - `:body` (EnvelopeCustomFields):

  ### Returns

  - `{:ok, DocuSign.Model.EnvelopeCustomFields.t}` on success
  - `{:error, Tesla.Env.t}` on failure
  """
  @spec custom_fields_delete_custom_fields(DocuSign.Connection.t(), String.t(), String.t(), keyword()) ::
          {:ok, ErrorDetails.t()}
          | {:ok, EnvelopeCustomFields.t()}
          | {:error, Tesla.Env.t()}
  def custom_fields_delete_custom_fields(connection, account_id, envelope_id, opts \\ []) do
    optional_params = %{
      :body => :body
    }

    request =
      %{}
      |> method(:delete)
      |> url("/v2.1/accounts/#{account_id}/envelopes/#{envelope_id}/custom_fields")
      |> add_optional_params(optional_params, opts)
      |> Enum.to_list()

    connection
    |> Connection.request(request)
    |> evaluate_response([
      {200, EnvelopeCustomFields},
      {400, ErrorDetails}
    ])
  end

  @doc """
  Gets the custom field information for the specified envelope.
  Retrieves the custom field information for the specified envelope. You can use these fields in the envelopes for your account to record information about the envelope, help search for envelopes, and track information. The envelope custom fields are shown in the Envelope Settings section when a user is creating an envelope in the Docusign member console. The envelope custom fields are not seen by the envelope recipients.  There are two types of envelope custom fields, text, and list. A text custom field lets the sender enter the value for the field. With a list custom field, the sender selects the value of the field from a pre-made list.   ### Related topics  - [How to get envelope custom tab values](/docs/esign-rest-api/how-to/get-envelope-custom-tab-values/)

  ### Parameters

  - `connection` (DocuSign.Connection): Connection to server
  - `account_id` (String.t): The external account number (int) or account ID GUID.
  - `envelope_id` (String.t): The envelope's GUID.   Example: `93be49ab-xxxx-xxxx-xxxx-f752070d71ec`
  - `opts` (keyword): Optional parameters

  ### Returns

  - `{:ok, DocuSign.Model.CustomFieldsEnvelope.t}` on success
  - `{:error, Tesla.Env.t}` on failure
  """
  @spec custom_fields_get_custom_fields(DocuSign.Connection.t(), String.t(), String.t(), keyword()) ::
          {:ok, ErrorDetails.t()}
          | {:ok, CustomFieldsEnvelope.t()}
          | {:error, Tesla.Env.t()}
  def custom_fields_get_custom_fields(connection, account_id, envelope_id, _opts \\ []) do
    request =
      %{}
      |> method(:get)
      |> url("/v2.1/accounts/#{account_id}/envelopes/#{envelope_id}/custom_fields")
      |> Enum.to_list()

    connection
    |> Connection.request(request)
    |> evaluate_response([
      {200, CustomFieldsEnvelope},
      {400, ErrorDetails}
    ])
  end

  @doc """
  Creates envelope custom fields for an envelope.
  Updates the envelope custom fields for draft and in-process envelopes.  ### Related topics  - [How to bulk send envelopes](/docs/esign-rest-api/how-to/bulk-send-envelopes/)

  ### Parameters

  - `connection` (DocuSign.Connection): Connection to server
  - `account_id` (String.t): The external account number (int) or account ID GUID.
  - `envelope_id` (String.t): The envelope's GUID.   Example: `93be49ab-xxxx-xxxx-xxxx-f752070d71ec`
  - `opts` (keyword): Optional parameters
    - `:body` (EnvelopeCustomFields):

  ### Returns

  - `{:ok, DocuSign.Model.EnvelopeCustomFields.t}` on success
  - `{:error, Tesla.Env.t}` on failure
  """
  @spec custom_fields_post_custom_fields(DocuSign.Connection.t(), String.t(), String.t(), keyword()) ::
          {:ok, ErrorDetails.t()}
          | {:ok, EnvelopeCustomFields.t()}
          | {:error, Tesla.Env.t()}
  def custom_fields_post_custom_fields(connection, account_id, envelope_id, opts \\ []) do
    optional_params = %{
      :body => :body
    }

    request =
      %{}
      |> method(:post)
      |> url("/v2.1/accounts/#{account_id}/envelopes/#{envelope_id}/custom_fields")
      |> add_optional_params(optional_params, opts)
      |> ensure_body()
      |> Enum.to_list()

    connection
    |> Connection.request(request)
    |> evaluate_response([
      {201, EnvelopeCustomFields},
      {400, ErrorDetails}
    ])
  end

  @doc """
  Updates envelope custom fields in an envelope.
  Updates the envelope custom fields in draft and in-process envelopes.  Each custom field used in an envelope must have a unique name.

  ### Parameters

  - `connection` (DocuSign.Connection): Connection to server
  - `account_id` (String.t): The external account number (int) or account ID GUID.
  - `envelope_id` (String.t): The envelope's GUID.   Example: `93be49ab-xxxx-xxxx-xxxx-f752070d71ec`
  - `opts` (keyword): Optional parameters
    - `:body` (EnvelopeCustomFields):

  ### Returns

  - `{:ok, DocuSign.Model.EnvelopeCustomFields.t}` on success
  - `{:error, Tesla.Env.t}` on failure
  """
  @spec custom_fields_put_custom_fields(DocuSign.Connection.t(), String.t(), String.t(), keyword()) ::
          {:ok, ErrorDetails.t()}
          | {:ok, EnvelopeCustomFields.t()}
          | {:error, Tesla.Env.t()}
  def custom_fields_put_custom_fields(connection, account_id, envelope_id, opts \\ []) do
    optional_params = %{
      :body => :body
    }

    request =
      %{}
      |> method(:put)
      |> url("/v2.1/accounts/#{account_id}/envelopes/#{envelope_id}/custom_fields")
      |> add_optional_params(optional_params, opts)
      |> ensure_body()
      |> Enum.to_list()

    connection
    |> Connection.request(request)
    |> evaluate_response([
      {200, EnvelopeCustomFields},
      {400, ErrorDetails}
    ])
  end
end
